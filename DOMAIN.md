# 领域模型


## 分离领域

层级 | 解释
---- | ----
应用界面层（表示层） | 负责向用户显示信息或解释用户指令
应用层 | 定义软件要完成的任务，并且指挥表达领域概念的对应来解决问题
领域层（或模型层） | 负责表达业务概念，业务状态信息以及业务规则
基础设施层 | 为上面各层提供通用的技术能力：为应用层传递消息，为领域层提供持久化机制，为用户界面层绘制屏幕组件等等

## 模型
- Entity

主要由标识定义的对象被称做Entity（实体）。它们的类定义、职责、属性和关联必须由其标识来决定，而不依赖于其所具有的属性。
它们具有生命周期，这期间它们的形式和内容可能发生根本改变，但必须保持内在的连续性。

- Value Object

用于描述领域的某个方面而本身没有概念标识的对象称为Value Object（值对象）。
我们只关心它们是什么，而不关心它们是谁。
当我们只关心一个模型元素的属性时，应把它归类为Value Object, 它应该是不可变的，其不要为它分配任何标识


-Service

Service是作为接口提供的一种操作，它在模型中是独立的。
当领域中的某个重要的过程不是或转换操作不是Entity或Value Object的自然职责时，应该在模型中添加一个作为独立接口的操作，
并将其声明为Service

- Module(Package)

选择能够描述系统的Module, 并使之包含一个内聚的概念集合


## 领域对象的声明周期

- Aggregate

Aggregate就是一组相关对象的集合，我们把它作为数据修改的单元。
每个Aggregate都有一个根和一个边界。边界定义Aggregate的内部都有什么。
根则是Aggregate所包含的一个特定Entity。对Aggregate而言，外部对象只可以引用根，
而边界内部的对象可以相互引用

- Factory

当创建一个对象或者创建这个Aggregate时，如果创建工作很复杂，或者暴漏了过多的内部结构，则可以使用Factory进行封装

- Repository

客户使用查询方法向Repository请求对象，这些查询方法根据客户所指定的条件来挑选对象。